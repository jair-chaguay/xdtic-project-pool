"use strict";window.addEventListener("load",function(){require("node_modules/es6-promise/dist/es6-promise").Promise;require("node_modules/whatwg-fetch/fetch");{var e=require("static/js/module/tools"),t=urlPrefix+"/fn/project/update";new Vue({el:"#appEditDetail",data:{user:userInfo,project:projectInfo,editIsFail:!1,editIsSucc:!1},methods:{editDetail:function(){self=this,fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},credentials:"same-origin",body:e.formSerialize("#formEditDetail")}).then(function(e){return e.json()}).then(function(e){"ok"===e.code?(self.postIsSucc=!0,setTimeout(function(){window.location.href=urlPrefix+"/myProject/myPost/detail?proId="+self.project.proId+"&uid="+self.user.id},500)):self.editIsFail=!0})["catch"](function(e){self.editIsFail=!0,console.log("request failed",e)})},closeDialog:function(){this.editIsFail=!1}}})}});